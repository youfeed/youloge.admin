/** The Web UI Theme-v2.7.0 */;layui.define("view",function(e){function t(e){var a=e.attr("lay-id"),t=e.attr("lay-attr"),e=e.index();location.hash=a!==r.entry&&t||"/",z.tabsBodyChange(e)}var u=layui.jquery,s=layui.laytpl,n=layui.table,a=layui.element,d=layui.util,o=layui.upload,r=layui.setter,i=layui.view,l=layui.device(),c=u(window),y=u(document),h=u("body"),m=u("#"+r.container),f="layui-show",p="layui-this",v="layui-disabled",b="#LAY_app_body",g="LAY_app_flexible",x="layadmin-side-spread-sm",C="layadmin-tabsbody-item",k="layui-icon-shrink-right",F="layui-icon-spread-left",T="layadmin-side-shrink",z={v:"2.7.0",mode:"spa",req:i.req,exit:i.exit,escape:d.escape,on:function(e,a){return layui.onevent.call(this,r.MOD_NAME,e,a)},popup:i.popup,popupRight:function(e){return z.popup.index=layer.open(u.extend({type:1,id:"LAY_adminPopupR",anim:-1,title:!1,closeBtn:!1,offset:"r",shade:.1,shadeClose:!0,skin:"layui-anim layui-anim-rl layui-layer-adminRight",area:"300px"},e))},renderMenuItems:function(e){var u=layui.hash().path,d=u.join("/"),a=layui.setter.response.dataName,c="children";return function l(n,s){var o=[],r="li"===(s=s||"li");return layui.each(n||e[a],function(e,a){var t="object"==typeof a[c]&&0<a[c].length,i=a.url||"";o.push(["<"+s+' class="'+(r?"layui-nav-item":"")+" "+(!n&&0==e&&!u[0]||d===i||a.spread?t?"layui-nav-itemed":"layui-this":"")+'">','<a href="javascript:;"'+(e=[],t||e.push('lay-href="'+i+'"'),a.pageMode&&e.push('lay-page-mode="'+a.pageMode+'"'),r&&(e.push('lay-tips="'+a.title+'"'),e.push('lay-direction="2"')),e.length?" "+e.join(""):"")+">",'<i class="layui-icon '+(a.icon||"")+'"></i>',"<cite>"+(a.title||"\u672a\u547d\u540d")+"</cite>","</a>",t?'<dl class="layui-nav-child">'+l(a[c],"dd")+"</dl>":"","</"+s+">"].join(""))}),o.join("")}()},setSideMenuStatus:function(n){n=n||layui.hash();function s(e){e.addClass(a).siblings().removeClass(a)}var o,r,e=u("#LAY-system-side-menu"),a="layui-nav-itemed";e.find("."+p).removeClass(p),z.screen()<2&&z.sideFlexible(),o=e,r=n.path.join("/"),o.find("li,dd").each(function(e,a){var t,i=u(this),l=i.children("a"),l=z.correctRouter(l.attr("lay-href"));if(l===n.href||l===r||"/"!==(l=layui.hash("#"+l).path.join("/"))&&-1!==n.href.indexOf(l))return o.find("."+p).removeClass(p),i.addClass(p),l=i.closest(".layui-nav-item"),t=i.parent().closest("dd"),s(l),s(t),d.toVisibleArea({scrollElem:m.find(".layui-side-scroll"),thisElem:i}),!1})},sendAuthCode:function(i){function l(e){var a=u(i.elem);--n<0?(a.removeClass(v).html("\u83b7\u53d6\u9a8c\u8bc1\u7801"),n=i.seconds,clearInterval(t)):a.addClass(v).html(n+"\u79d2\u540e\u91cd\u83b7"),e||(t=setInterval(function(){l(!0)},1e3))}var t,n=(i=u.extend({seconds:60,elemPhone:"#LAY_phone",elemVercode:"#LAY_vercode"},i)).seconds;h.off("click",i.elem).on("click",i.elem,function(){i.elemPhone=u(i.elemPhone),i.elemVercode=u(i.elemVercode);var a,e=i.elemPhone,t=e.val();if(n===i.seconds&&!u(this).hasClass(v)){if(!/^1\d{10}$/.test(t))return e.focus(),layer.msg("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7");"object"==typeof i.ajax&&(a=i.ajax.success,delete i.ajax.success),z.req(u.extend(!0,{url:"",type:"get",data:{phone:t},success:function(e){layer.msg("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u624b\u673a\uff0c\u8bf7\u6ce8\u610f\u67e5\u6536",{icon:1,shade:0}),i.elemVercode.focus(),l(),a&&a(e)}},i.ajax))}})},screen:function(){var e=c.width();return 1200<e?3:992<e?2:768<e?1:0},sideFlexible:function(e){var a=m,t=u("#"+g),i=z.screen();"spread"===e?(t.removeClass(F).addClass(k),i<2?a.addClass(x):a.removeClass(x),a.removeClass(T)):(t.removeClass(k).addClass(F),i<2?a.removeClass(T):a.addClass(T),a.removeClass(x)),layui.event.call(this,r.MOD_NAME,"side({*})",{status:e})},resizeTable:function(e){function a(){t.tabsBody(z.tabsPage.index).find(".layui-table-view").each(function(){var e=u(this).attr("lay-id");layui.table.resize(e)})}var t=this;layui.table&&(e?setTimeout(a,e):a())},theme:function(e){r.theme;var t=layui.data(r.tableName),a="LAY_layadmin_theme",i=document.getElementById(a),l=document.createElement("style");if(e.CLEAR)return u(i).remove(),layui.data(r.tableName,{key:"theme",remove:!0});var n=s([".layui-side-menu,",".layui-layer-admin .layui-layer-title,",".layadmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-item>.layui-nav-child","{background-color:{{d.color.main}} !important;}",".layadmin-pagetabs .layui-tab-title li:after,",".layadmin-pagetabs .layui-tab-title li.layui-this:after,",".layui-nav-tree .layui-this,",".layui-nav-tree .layui-this>a,",".layui-nav-tree .layui-nav-child dd.layui-this,",".layui-nav-tree .layui-nav-child dd.layui-this a,",".layui-nav-tree .layui-nav-bar","{background-color:{{d.color.selected}} !important;}",".layui-layout-admin .layui-logo{background-color:{{d.color.logo || d.color.main}} !important;}",".layadmin-pagetabs .layui-tab-title li:hover,",".layadmin-pagetabs .layui-tab-title li.layui-this","{color: {{d.color.selected}} !important;}","{{# if(d.color.header){ }}",".layui-layout-admin .layui-header{background-color:{{ d.color.header }};}",".layui-layout-admin .layui-header a,",".layui-layout-admin .layui-header a cite{color: #f8f8f8;}",".layui-layout-admin .layui-header a:hover{color: #fff;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-more{border-top-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-nav-mored{border-color: transparent; border-bottom-color: #fbfbfb;}",".layui-layout-admin .layui-header .layui-nav .layui-this:after, .layui-layout-admin .layui-header .layui-nav-bar{background-color: #fff; background-color: rgba(255,255,255,.5);}",".layadmin-pagetabs .layui-tab-title li:after{display: none;}","{{# } }}"].join("")).render(e=u.extend({},t.theme,e));"styleSheet"in l?(l.setAttribute("type","text/css"),l.styleSheet.cssText=n):l.innerHTML=n,l.id=a,i&&h[0].removeChild(i),h[0].appendChild(l),e.color&&h.attr("layadmin-themealias",e.color.alias),t.theme=t.theme||{},layui.each(e,function(e,a){t.theme[e]=a}),layui.data(r.tableName,{key:"theme",value:t.theme})},initTheme:function(e){var a=r.theme;a.color[e=e||0]&&(a.color[e].index=e,z.theme({color:a.color[e]}))},tabsPage:{},tabsHeader:function(e){return u("#LAY_app_tabsheader").children("li").eq(e||0)},tabsBody:function(e){return u(b).find("."+C).eq(e||0)},tabsBodyChange:function(e){z.tabsHeader(e).attr("lay-attr",layui.hash().href),z.tabsBody(e).addClass(f).siblings().removeClass(f),P.rollPage("auto",e)},resize:function(e){var a=layui.hash().path.join("-");z.resizeFn[a]&&(c.off("resize",z.resizeFn[a]),delete z.resizeFn[a]),"off"!==e&&(e(),z.resizeFn[a]=e,c.on("resize",z.resizeFn[a]))},resizeFn:{},runResize:function(){var e=layui.hash().path.join("-");z.resizeFn[e]&&z.resizeFn[e]()},delResize:function(){this.resize("off")},closeThisTabs:function(){z.tabsPage.index&&u(A).eq(z.tabsPage.index).find(".layui-tab-close").trigger("click")},fullScreen:function(){var e=document.documentElement,a=e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;void 0!==a&&a&&a.call(e)},exitScreen:function(){document.documentElement;document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},correctRouter:function(e){return(e=/^\//.test(e)?e:"/"+e).replace(/^(\/+)/,"/").replace(new RegExp("/"+r.entry+"$"),"/")}},P=z.events={flexible:function(e){e=e.find("#"+g).hasClass(F);z.sideFlexible(e?"spread":null),z.resizeTable(350)},refresh:function(){z.render()},serach:function(t){t.off("keypress").on("keypress",function(e){var a;this.value.replace(/\s/g,"")&&13===e.keyCode&&(e=t.attr("lay-action"),a=t.attr("lay-text")||"\u641c\u7d22",e+=this.value,a=a+' <span style="color: #FF5722;">'+z.escape(this.value)+"</span>",location.hash=z.correctRouter(e),P.serach.keys||(P.serach.keys={}),P.serach.keys[z.tabsPage.index]=this.value,this.value===P.serach.keys[z.tabsPage.index]&&P.refresh(t),this.value="")})},message:function(e){e.find(".layui-badge-dot").remove()},theme:function(){z.popupRight({id:"LAY_adminPopupTheme",success:function(){i(this.id).render("system/theme")}})},note:function(e){var a=z.screen()<2,t=layui.data(r.tableName).note;P.note.index=z.popup({title:"\u4fbf\u7b7e",shade:0,offset:["41px",a?null:e.offset().left-250+"px"],anim:-1,id:"LAY_adminNote",skin:"layadmin-note layui-anim layui-anim-upbit",content:'<textarea placeholder="\u5185\u5bb9"></textarea>',resize:!1,success:function(e,a){e.find("textarea").val(void 0===t?"\u4fbf\u7b7e\u4e2d\u7684\u5185\u5bb9\u4f1a\u5b58\u50a8\u5728\u672c\u5730\uff0c\u8fd9\u6837\u5373\u4fbf\u4f60\u5173\u6389\u4e86\u6d4f\u89c8\u5668\uff0c\u5728\u4e0b\u6b21\u6253\u5f00\u65f6\uff0c\u4f9d\u7136\u4f1a\u8bfb\u53d6\u5230\u4e0a\u4e00\u6b21\u7684\u8bb0\u5f55\u3002\u662f\u4e2a\u975e\u5e38\u5c0f\u5de7\u5b9e\u7528\u7684\u672c\u5730\u5907\u5fd8\u5f55":t).focus().on("keyup",function(){layui.data(r.tableName,{key:"note",value:this.value})})}})},fullscreen:function(e,a){function t(e){e?n.addClass(l).removeClass(i):n.addClass(i).removeClass(l)}var i="layui-icon-screen-full",l="layui-icon-screen-restore",n=e.children("i"),e=n.hasClass(i);if(a)return t(a.status);t(e),e?z.fullScreen():z.exitScreen()},about:function(){z.popupRight({id:"LAY_adminPopupAbout",success:function(){i(this.id).render("system/about")}})},more:function(){z.popupRight({id:"LAY_adminPopupMore",success:function(){i(this.id).render("system/more")}})},back:function(){history.back()},setTheme:function(e){var a=e.data("index");e.siblings(".layui-this").data("index");e.hasClass(p)||(e.addClass(p).siblings(".layui-this").removeClass(p),z.initTheme(a),i("LAY_adminPopupTheme").render("system/theme"))},rollPage:function(e,a){var t,i=u("#LAY_app_tabsheader"),l=i.children("li"),n=(i.prop("scrollWidth"),i.outerWidth()),s=parseFloat(i.css("left"));if("left"===e)!s&&s<=0||(t=-s-n,l.each(function(e,a){a=u(a).position().left;if(t<=a)return i.css("left",-a),!1}));else if("auto"===e){var o,e=l.eq(a);if(e[0]){if((a=e.position().left)<-s)return void i.css("left",-a);a+e.outerWidth()>=n-s&&(o=a+e.outerWidth()-(n-s),l.each(function(e,a){a=u(a).position().left;if(0<a+s&&o<a-s)return i.css("left",-a),!1}))}}else l.each(function(e,a){var a=u(a),t=a.position().left;if(t+a.outerWidth()>=n-s)return i.css("left",-t),!1})},leftPage:function(){P.rollPage("left")},rightPage:function(){P.rollPage()},closeThisTabs:function(){z.closeThisTabs()},closeOtherTabs:function(e){var t="LAY-system-pagetabs-remove",i=z.tabsPage.index;("all"===e?(u(A+":gt(0)").remove(),u(b).find("."+C+":gt(0)")):"right"===e?(u(A+":gt("+i+")").remove(),u(b).find("."+C+":gt("+i+")")):(u(A).each(function(e,a){e&&e!=i&&(u(a).addClass(t),z.tabsBody(e).addClass(t))}),u("."+t))).remove()},closeRightTabs:function(){P.closeOtherTabs("right")},closeAllTabs:function(){P.closeOtherTabs("all"),location.hash=""},shade:function(){z.sideFlexible()}},A=(h.addClass("layui-layout-body"),z.screen()<1&&delete r.pageTabs,r.pageTabs||m.addClass("layadmin-tabspage-none"),l.ie&&l.ie<10&&i.error("IE"+l.ie+"\u4e0b\u8bbf\u95ee\u53ef\u80fd\u4e0d\u4f73\uff0c\u63a8\u8350\u4f7f\u7528\uff1aChrome / Firefox / Edge \u7b49\u9ad8\u7ea7\u6d4f\u89c8\u5668",{offset:"auto",id:"LAY_errorIE"}),(l=layui.data(r.tableName)).theme?z.theme(l.theme):r.theme&&z.initTheme(r.theme.initColorIndex),z.on("hash(side)",z.setSideMenuStatus),a.on("nav(layadmin-system-side-menu)",function(e){e.siblings(".layui-nav-child")[0]&&m.hasClass(T)&&(z.sideFlexible("spread"),layer.close(e.data("index"))),z.tabsPage.type="nav"}),a.on("nav(layadmin-pagetabs-nav)",function(e){e=e.parent();e.removeClass(p),e.parent().removeClass(f)}),"#LAY_app_tabsheader>li"),_=(h.on("click",A,function(){var e=u(this),a=e.index();if(z.tabsPage.type="tab",z.tabsPage.index=a,"iframe"===e.attr("lay-attr"))return z.tabsBodyChange(a);t(e),z.runResize(),z.resizeTable()}),a.on("tabDelete(layadmin-layout-tabs)",function(e){var a=u(A+".layui-this");e.index&&z.tabsBody(e.index).remove(),t(a),z.delResize()}),h.on("click","*[lay-href]",function(){var e=u(this),a=e.attr("lay-href"),t=layui.hash();z.tabsPage.elem=e,location.hash=z.correctRouter(a),r.refreshCurrPage&&z.correctRouter(a)===t.href&&z.events.refresh()}),h.on("click","*[layadmin-event]",function(){var e=u(this),a=e.attr("layadmin-event");P[a]&&P[a].call(this,e)}),h.on("mouseenter","*[lay-tips]",function(){var t,e,a,i=u(this);i.parent().hasClass("layui-nav-item")&&!m.hasClass(T)||(a=i.attr("lay-tips"),t=i.attr("lay-offset"),e=i.attr("lay-direction"),a=layer.tips(a,this,{tips:e||1,time:-1,success:function(e,a){t&&e.css("margin-left",t+"px")}}),i.data("index",a))}).on("mouseleave","*[lay-tips]",function(){layer.close(u(this).data("index"))}),layui.data.resizeSystem=function(){layer.closeAll("tips"),_.lock||setTimeout(function(){z.sideFlexible(z.screen()<2?"":"spread"),delete _.lock},100),_.lock=!0});c.on("resize",layui.data.resizeSystem),y.on("fullscreenchange",function(){P.fullscreen(u('[layadmin-event="fullscreen"]'),{status:document.fullscreenElement})}),z.setComponentsToken=function e(i){var a,l=r.request;return i=u.extend({},i),l.tokenName&&(n.set((a=function(e){var a={},t={};return t[l.tokenName]=layui.data(r.tableName)[l.tokenName]||i.value||"","headers"===l.tokenTransferMethod?a.headers=t:a[e||"data"]=t,a})("where")),o.set(a())),e}(),e("admin",z)});